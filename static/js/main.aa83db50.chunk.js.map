{"version":3,"sources":["hooks/useApiUser.js","App.js","index.js"],"names":["useApiUser","useState","name","img","url","repos","user","setUser","userHistory","setUserHistory","userFav","setUserFav","reload","setReload","saveHistory","data","users","JSON","parse","localStorage","getItem","length","push","setItem","stringify","shift","getFav","useEffect","count","i","console","log","splice","username","nickname","fetch","method","then","response","json","message","owner","login","avatar_url","html_url","catch","error","App","saveFav","fetchUser","setName","className","map","u","onClick","src","alt","historyUserSHW","historyFavSHW","type","onChange","e","target","value","placeholder","href","scope","r","window","open","description","language","visibility","default_branch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aa83db50.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useApiUser = () => {\r\n    const [user, setUser] = useState({\r\n        name: '',\r\n        img: '',\r\n        url: '',\r\n        repos: []\r\n    })\r\n    const [userHistory, setUserHistory] = useState([])\r\n    const [userFav, setUserFav] = useState([])\r\n    const [reload, setReload] = useState(false)\r\n    //Main functions for export\r\n    const fetchUser = nickname => {\r\n        fetch(`https://api.github.com/users/${ nickname }/repos`, {\r\n            method: 'GET',\r\n        })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n            if(data.message !== \"Not Found\"){\r\n                saveHistory({ name: data[0].owner.login, img: data[0].owner.avatar_url, url: data[0].owner.html_url, repos: data })\r\n                setReload(!reload)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    // Localhost funcions\r\n    const saveHistory = data => {\r\n        let users = JSON.parse(localStorage.getItem('History'))\r\n        if(users){\r\n            if(users.length <= 8){\r\n                users.push(data)\r\n                localStorage.setItem('History', JSON.stringify(users))\r\n            }else{\r\n                users.shift()\r\n                users.push(data)\r\n                localStorage.setItem('History', JSON.stringify(users))\r\n            }\r\n        }else{\r\n            localStorage.setItem('History', JSON.stringify([data]))\r\n        }\r\n    }\r\n    const getHistory = () => {\r\n        if(localStorage.getItem('History'))\r\n            setUserHistory(JSON.parse(localStorage.getItem('History')))\r\n    }\r\n    const getUser = () => {\r\n        if(localStorage.getItem('History'))\r\n            setUser(JSON.parse(localStorage.getItem('History'))[JSON.parse(localStorage.getItem('History')).length-1])\r\n    }\r\n\r\n    const saveFav = () => {\r\n        let users = JSON.parse(localStorage.getItem('Fav'))\r\n        if(users){\r\n            let count = -1\r\n            for(let i = 0; i<userFav.length; i++){\r\n                console.log(i, users[i])\r\n                if(users[i].name === user.name){\r\n                    count = i\r\n                }\r\n            }\r\n            if(count<0){\r\n                users.push(user)\r\n                localStorage.setItem('Fav', JSON.stringify(users))\r\n            }else{\r\n                users.splice(count, 1)\r\n                localStorage.setItem('Fav', JSON.stringify(users))\r\n            }\r\n        }else{\r\n            localStorage.setItem('Fav', JSON.stringify([user]))\r\n        }\r\n\r\n        getFav()\r\n    }\r\n    const getFav = () => {\r\n        if(localStorage.getItem('Fav'))\r\n            setUserFav(JSON.parse(localStorage.getItem('Fav')))\r\n    }\r\n    const savedCheck = () => {\r\n        for(let i = 0; i<userFav.length; i++){\r\n            if(userFav[i].username === user.username){\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n    \r\n    useEffect(() => {\r\n        getHistory()\r\n        getUser()\r\n        getFav()\r\n    }, [reload])\r\n    return[user, userHistory, userFav, saveFav, savedCheck, fetchUser]\r\n}\r\n\r\nexport default useApiUser","import React, { useState } from 'react'\nimport useApiUser from './hooks/useApiUser'\n\nconst App = () => {\n  // eslint-disable-next-line\n  const [user, userHistory, userFav, saveFav, savedCheck, fetchUser] = useApiUser()\n  const [name, setName] = useState('')\n\n  const clickHandler = () =>{\n    fetchUser(name)\n  }\n  const changeHandler = e => {\n    setName(e.target.value)\n  }\n  const historyUserSHW = (u, i) => {\n    const changeHandler = () => {\n      fetchUser(userHistory[i].name)\n    }\n\n    return(\n      <div className=\"card maxSize\" onClick={ changeHandler } key={ i }>\n        <img src={ u.img } className=\"img-fluid rounded-start\" alt=\"user avatar\" />\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{ u.name }</h5>\n        </div>\n      </div>\n    )\n  }\n  const historySHW = () => (\n    <>\n      {userHistory && (\n        <>\n          <h1>History</h1>\n          <div className=\"flexBox\">\n            {userHistory.map((u, i) => (\n              historyUserSHW(u, i)\n            ))}\n          </div>\n        </>\n      )}\n    </>\n  )\n  const historyFavSHW = (u, i) => {\n    const changeHandler = () => {\n      fetchUser(userFav[i].name)\n    }\n\n    return(\n      <div className=\"card maxSize\" key={ i } onClick={ changeHandler }>\n        <img src={ u.img } className=\"img-fluid rounded-start\" alt=\"user avatar\" />\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{ u.name }</h5>\n        </div>\n      </div>\n    )\n  }\n  const favSHW = () => (\n    <>\n      {userFav && (\n        <>\n          <h1>Saved</h1>\n          <div className=\"userFav\">\n            {userFav.map((u, i) => (\n              historyFavSHW(u, i)\n            ))}\n          </div>\n        </>\n      )}\n    </>\n  )\n  const userReposSHW = () => {\n    return(\n      <>\n        {user.repos ? (\n            <>\n              <h1>The repos</h1>\n                <table className=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">Name</th>\n                      <th scope=\"col\">Description</th>\n                      <th scope=\"col\">Language</th>\n                      <th scope=\"col\">visibility</th>\n                      <th scope=\"col\">Branch</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                      {user.repos.map((r, i) => (\n                        <tr key={ i } className='pointer' onClick={ () => window.open(`https://github.com/${ user.name }/${ r.name }`, '_blank') }>\n                          <th scope=\"row\">{ i+1 }</th>\n                          <td>{ r.name }</td>\n                          <td>{ r.description }</td>\n                          <td>{ r.language }</td>\n                          <td>{ r.visibility }</td>\n                          <td>{ r.default_branch }</td>\n                        </tr>\n                      ))}\n                  </tbody>\n                </table>\n            </>\n          ) : (\n            <>\n              <h1>No repos were found(</h1>\n            </>\n        )}\n      </>\n    )\n  }\n\n  const userSHW = () => (\n    <>\n      <div className=\"Row\">\n      </div>\n      <div className=\"row\">\n        <div className=\"card mb-3\">\n          <div className=\"row g-0\">\n            <div className=\"col-md-4\">\n              <img src={ user.img } className=\"img-fluid rounded-start\" alt=\"...\" />\n            </div>\n            <div className=\"col-md-8\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{ user.name }</h5>\n                <a href={ user.url } className=\"card-text\">User's page</a>\n                <button type=\"button\" className=\"btn btn-light card-text\" onClick={ () => saveFav() }>Un/Save</button>\n                {/* { savedCheck() ? (\n                  <>\n                    <p>Saved {savedCheck()}</p>\n                    <button type=\"button\" className=\"btn btn-light card-text\" onClick={ () => saveFav() }>+</button>\n                  </>\n                ) : (\n                  <>\n                    <p>Unsaved {savedCheck()}</p>\n                    <button type=\"button\" className=\"btn btn-light card-text\"  onClick={ () => saveFav() }>-</button>\n                  </>\n                )} */}\n                {/* { savedCheck() && (\n                  <button type=\"button\" className=\"btn btn-light card-text\" onClick={ () => saveFav() }>+</button>\n                ) }\n                { !savedCheck() && (\n                  <button type=\"button\" className=\"btn btn-light card-text\" onClick={ () => saveFav() }>-</button>\n                ) } */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      { userReposSHW() }\n    </>\n  )\n  return (\n    <div className=\"container\">\n      <div className=\"row historyResize\">\n          { historySHW() }\n      </div>\n      <div className=\"row\">\n        <div className=\"col-3\">\n          { favSHW() }\n        </div>\n        <div className=\"col-9\">\n          <div className=\"row searchbarResize\">\n            <input className=\"col-8 col-gap\" type=\"text\" onChange={ changeHandler } placeholder=\"Enter an username\" />\n            <button className=\"col-4 btn btn-primary\" onClick={ clickHandler }>Search</button>\n          </div>\n          { user && (\n            <>\n              { userSHW() }\n            </>\n          ) }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}